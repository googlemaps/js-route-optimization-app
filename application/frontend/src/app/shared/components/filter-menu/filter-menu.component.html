<button
  class="filter-menu-trigger"
  mat-button
  [matMenuTriggerFor]="menu"
  aria-label="Filter menu"
  @.disabled>
  <mat-icon>filter_list</mat-icon>
  <label
    >Filter<span *ngIf="filters?.length > 0"> ({{ filters?.length || 0 }})</span></label
  >
  <mat-menu #menu="matMenu" class="filters">
    <div *ngIf="filters?.length > 0" class="p-3">
      <div class="mat-body-strong mb-3">Applied Filters</div>
      <mat-chip-list aria-label="Filter selection">
        <mat-chip
          color="primary"
          *ngFor="let f of filters"
          selected
          [removable]="true"
          (click)="onEditFilter(f, $event)"
          (removed)="removeFilter.emit(f)">
          {{ f.label }}
          <mat-icon matChipRemove>cancel</mat-icon>
        </mat-chip>
      </mat-chip-list>
      <mat-divider class="mt-3"></mat-divider>
    </div>
    <button
      mat-menu-item
      *ngFor="let f of filterOptions; trackBy: trackFilterOptionBy"
      (click)="addFilter.emit(f)">
      {{ f.label }}
    </button>
  </mat-menu>
</button>
